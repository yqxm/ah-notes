# Relational Model

## Data Model

data's description consist of three parts:

- _Structure of the data_
- _Operations on the data_
- _Constrains on the data_

### Relation Model

Relation: two-dimensional table.

- **Attributes**: Columns of a relation.Describes the meaning of entries in the column below.
- **Schema**: The name of a relation.
- **Tuples**: The rows of a relation, other than the header row containing the attribute names.
- **Domains**: Each attribute of a relation is a _domain_, which is a particular elementary type.

Relations are sets of tuples, not lists of tuples.

### Relation Instances

a set of tuples for given relation is an _instance_ of a _relation_

### Keys of Relations

_key_ constraints: A set of attributes form a _key_ for a relation if we do not allow two tuples in a relation instance to have the same values in all the attributes of the key.

Ususally, we create an attribute whose purpose is to serve as a key.

## Defining a Relation Schema in SQL

### Relations in SQL

- _tables_ are stored relations.
- _views_, which are relations defined by a computation. These relations are not stored, but are constructed, in whole or in part, when needed.
- _temporary tables_, which are constructed by SQL processor when it performs its job of executing queries and data modifications. These relation are not stored.

### Data Types

1. Character strings of fixed or varying length.
   - `CHAR(n)` and denotes a fixed-length string of up to _n_ characters.`VARCHAR(n)` denotes a string of up to _n_ characters.
   - `CHAR` implies that short strings are padded to make _n_ elements.
   - `VARCHAR` implies that an endmarker or string-length is used.
   - SQL permits reasonable coercions between values of character-string types. eg, 'foo' -> 'foo '.
2. Bits strings of fixed or varying length.
   - Their values are string of bits.
   - `BIT(n)` denotes bit strings of length n.
   - `BIT VARYING(n)` denotes bit strings of length up to n.
3. `BOOLEAN` denotes an attribute whose value is logical. it could be `TRUE`, `FALSE`, `UNKNOWN`.
4. `INT` or `INTEGER` denotes intever values.
5. `FLOAT` or `REAL` for typical floating-point numbers. `DOUBLE PRECISION` for higher precision. `DECIMAL(n,d)` for values consist of _n_ decimal digits and _d_ positions from the right.
6. `DATE` and `TIME`

### Simple Table Declarations

use `CREATE TABLE`.

```sql
CREATE TABLE Movies (
    title CHAR(100),
    year INT,
    length INT,
    genre CHAR(10)
)
```

### Modifying Relation Schemas

- `DROP TABLE`: delete relation. followed by the name of the relation.
- `ALTER TABLE`: modify schema. followed by the name of the realtion.
  - `ADD` flollowed by an attribute name and its data type.
  - `DROP` followed by an attribute name.

```sql
DROP TABLE R;

ALTER TABLE MovieStar ADD phone CHAR(11);

ALTER TABLE MovieStar Drop birthdate;
```

### Defalult Values

_default_ value, the value that appears in a column if no other value is know.

Use `DEFAULT` keyword and an approiate value followed by the declaration of an attribute and its data type. The value is either `NULL` or a constant or other values that system provided.

### Declaring Keys

Two ways to declare a key:

- declare one attribute to be a key when that attribute is listed in the relation schema.
- add to the list of items declared in the schema an additional declaration that says a particular attribute or set of attributes forms the key.

Two declarations that used to indicate keyness:

- `PRIMARY KEY`
- `UNIQUE`

Effect:

- Two tuples in _R_ cannot agree on all of the attributes in set _S_, unless one of them is `NULL`.

In addtion, if `PRIMARY KEY` is used, then attributes in S are not allowed to have `NULL` as a value for their components.

## An Algebraic Query Language
