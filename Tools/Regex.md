# 正则表达式

## Egrep元字符

> ⚠ 按照字符来理解正则表达式

### 行的起始和结束

- `^`表示一行的开始
- `$`表示一行的结束

它们匹配的是一个位置，而不是具体的文本

### 字符组

字符组`[]`容许使用者列出在某处期望匹配的字符。[e]匹配一个字符e，[a]匹配一个字符a，[ea]匹配字符e或者a。

在字符组以外的普通字符都有“接下来是(and then)”的意思。

字符组中的连字符`-`表示一个范围，例如`<h[1-6]>`和`<h[123456]>`的意思相同。多重范围也是允许的，例如`[0-9a-fA-f]`，也可以把字符范围和普通文本结合起来，例如`[0-9A-Z_!.?]`能够匹配数字、大写字母、下划线、感叹号、点号和问号。

只有在字符组中，`-`才有可能是元字符(不被放在字符组开头)。同样的，`?`和`.`通常被当作元字符，但在字符组中不是。

#### 排除型字符组

排除型字符组表示“匹配一个未列出的字符”

`[^...]`字符组会匹配任何未列出的字符，例如`[^1-6]`会匹配任何不是1到6的字符

#### `.`匹配任意字符

`.`是匹配任意字符的字符组的简便写法。

它在字符组中也是普通字符。

### 多选结构

`|`元字符能够把把不同的子表达式组合成一个总的表达式，而这个总表达式又能匹配任意的子表达式。使用括号来限制多选结构的范围。

试比较
`ˆFrom|Subject|Date:` 和 `^(From|Subject|Date):`

### 忽略大小写

使用参数`-i`让egrep来忽略大小写

```bash
egrep -i '^(From|Subject|Date):' mailbox
```

### 单词分界符

如果软件支持元字符序列，则可以使用`\<`和`\>`来匹配单词分界的位置。

> ⚠ <和>本身不是元字符，只有和斜线结合时，整个序列才有特殊意义
