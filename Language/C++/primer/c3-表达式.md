# 表达式

## 显示转换

形式：

`cast-name<type>(expression)`

其中type是转换的目标类型，expression是要转换的值。如果type是引用类型，则结果是左值。

cast-name指定了执行的是哪种转换，是static_cast、dynamic_cast、const_cast和reinterpret_cast中的一种。

### static_cast

任何具有明确定义的类型转换，只要不包含底层const，都可以使用static_cast。

使用：

- 把一个较大的算数类型赋值给较小的类型
- 帮助编译器执行无法自动执行的类型转换。例如：使用static_cast找回存于void*指针中的值。

```cpp
void *p = &d;
double *dp = static_cast<double*>(p);
```

上述例子里，使用时应确保指针的值保持不变。强制转换的结果将与原始的地址值相等，因此转换后所得的类型必须是指针所指的类型。类型不符将产生未定义的后果。

### const_cast

const_cast只能改变运算对象的底层const。

```cpp
const char c = 'a';
const char *pc = &c;
char *p = const_cast<char*>(pc);
```

### reinterpret_cast

为运算对象的位模式提供较低层次上的重新解释。使用它非常危险。